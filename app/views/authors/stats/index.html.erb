<h4 class="mb-4">
	<span>Stats</span>
</h4>
<div class="row">
	<div class="col-md-6">
		<div class="card">
			<div class="card-header">
				7 Day Views
			</div>
			<div class="card-body">
				<% @day = Array.new %>
				<% i = 0 %>
				<% @count_by_date.keys.each do |day| %>
					<% @day[i] = day.to_s %>
					<% i += 1 %>
				<% end %>
				<canvas id="page-views" width="400" height="400" data-labels="<%= @day %>" data-data="<%= @count_by_date.values %>"></canvas>
			</div>
		</div>
	</div>
	<div class="col-md-6">
		<div class="card">
			<div class="card-header">
				7 Day Unique Views
			</div>
			<div class="card-body">
				<canvas id="unique-page-views" width="400" height="400" data-labels="<%= @day %>" data-data="<%= @unique_count_by_date.values %>"></canvas>
			</div>
		</div>
	</div>
</div>

<script>
	var ctx = document.getElementById('page-views');
    var myChart = new Chart(ctx, {
        type: 'line',
        data: {
            labels: JSON.parse(ctx.dataset.labels),
            datasets: [{
                label: 'Page Views',
                data: JSON.parse(ctx.dataset.data),
                borderWidth: 1
            }]
        }
    });
	var ctx = document.getElementById('unique-page-views');
    var myChart = new Chart(ctx, {
        type: 'line',
        data: {
            labels: JSON.parse(ctx.dataset.labels),
            datasets: [{
                label: 'Unique Page Views',
                data: JSON.parse(ctx.dataset.data),
                borderWidth: 1
            }]
        }
    });
</script>
